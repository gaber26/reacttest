{"ast":null,"code":"var _jsxFileName = \"/Users/gaber/Documents/\\u7EC3\\u4E60/react-demo/src/pages/book/index.js\";\nimport \"./index.css\";\nimport React from \"react\";\nimport { articleList } from \"../../lib/api\";\nimport { Table, Input, Modal, Button } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst columns = [{\n  title: \"ID\",\n  dataIndex: \"id\",\n  key: \"id\"\n}, {\n  title: \"书名\",\n  dataIndex: \"name\",\n  key: \"name\"\n}, {\n  title: \"作者\",\n  dataIndex: \"author\",\n  key: \"author\"\n}, {\n  title: \"价格\",\n  dataIndex: \"price\",\n  key: \"price\"\n}, {\n  title: 'operation',\n  dataIndex: 'operation',\n  render: (_, record) => this.state.dataSource.length >= 1 ? /*#__PURE__*/_jsxDEV(Popconfirm, {\n    title: \"Sure to delete?\",\n    onConfirm: () => this.handleDelete(record.key),\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this) : null\n}];\n\nconst onSearch = value => {\n  console.log(value);\n};\n\nclass Index extends React.Component {\n  // 类名  继承  react组件\n  constructor(props) {\n    // 构造\n    super(props); // 调用父级方法\n\n    this.handleDelete = key => {\n      const dataSource = [...this.state.dataSource];\n      this.setState({\n        dataSource: dataSource.filter(item => item.key !== key)\n      });\n    };\n\n    this.state = {\n      dataSource: [],\n      current: 1,\n      // 当前页\n      size: 5,\n      // 每页显示\n      total: 0,\n      // 总条数\n      showQuickJumper: true,\n      //是否点击跳转\n      isModalVisible: false,\n      setIsModalVisible: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"input search text\",\n          allowClear: true,\n          enterButton: \"Search\",\n          size: \"large\",\n          onSearch: onSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        rowKey: \"id\",\n        bordered: true,\n        dataSource: this.state.dataSource,\n        columns: columns,\n        pagination: this.fenye()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Basic Modal\",\n        visible: this.isModalVisible,\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        onClick: this.showModal,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Some contents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Some contents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Some contents...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount-----组件已经挂载到页面的时候\");\n    this.getBook(this.state.current, this.state.size); //获取列表接口\n  } //分页\n\n\n  fenye() {\n    const fy = {\n      current: this.state.current,\n      // 当前页\n      pageSize: this.state.size,\n      // 每页显示\n      total: this.state.total,\n      // 总条数\n      onChange: current => {\n        // 点击下一页\n        this.getBook(current, 5);\n        this.setState({\n          current: current\n        });\n      },\n      // 每页显示变化\n      onShowSizeChange: (Current, pageSize) => {\n        console.log(pageSize);\n        this.getBook(Current, pageSize);\n      },\n      showQuickJumper: this.state.showQuickJumper //是否可以跳转\n\n    };\n    return fy;\n  }\n\n  async getBook(current, size) {\n    let res = await articleList({\n      current: current,\n      size: size\n    });\n    console.log(33, res.content);\n\n    if (res.content.length) {\n      this.setState({\n        dataSource: res.content,\n        total: res.totalElements\n      });\n    }\n  }\n\n  //弹出框\n  showModal() {\n    this.setIsModalVisible = true;\n  }\n\n  handleOk() {\n    setIsModalVisible(false);\n  }\n\n  handleCancel() {\n    setIsModalVisible(false);\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/gaber/Documents/练习/react-demo/src/pages/book/index.js"],"names":["React","articleList","Table","Input","Modal","Button","Search","columns","title","dataIndex","key","render","_","record","state","dataSource","length","handleDelete","onSearch","value","console","log","Index","Component","constructor","props","setState","filter","item","current","size","total","showQuickJumper","isModalVisible","setIsModalVisible","fenye","handleOk","handleCancel","showModal","componentDidMount","getBook","fy","pageSize","onChange","onShowSizeChange","Current","res","content","totalElements"],"mappings":"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","sourcesContent":["import \"./index.css\";\nimport React from \"react\";\nimport { articleList } from \"../../lib/api\";\nimport { Table, Input, Modal, Button } from \"antd\";\nconst { Search } = Input;\nconst columns = [\n  {\n    title: \"ID\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"书名\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"作者\",\n    dataIndex: \"author\",\n    key: \"author\",\n  },\n  {\n    title: \"价格\",\n    dataIndex: \"price\",\n    key: \"price\",\n  },\n  {\n    title: 'operation',\n    dataIndex: 'operation',\n    render: (_, record) =>\n      this.state.dataSource.length >= 1 ? (\n        <Popconfirm title=\"Sure to delete?\" onConfirm={() => this.handleDelete(record.key)}>\n          <a>Delete</a>\n        </Popconfirm>\n      ) : null,\n  },\n];\n\nconst onSearch = (value) => {\n  console.log(value);\n};\nclass Index extends React.Component {\n  // 类名  继承  react组件\n  constructor(props) {\n    // 构造\n    super(props); // 调用父级方法\n    this.state = {\n      dataSource: [],\n      current: 1, // 当前页\n      size: 5, // 每页显示\n      total: 0, // 总条数\n      showQuickJumper: true, //是否点击跳转\n      isModalVisible: false,\n      setIsModalVisible: false,\n    };\n  }\n  render() {\n    return (\n      <div>\n        {/* 表头 */}\n        <div className=\"search\">\n          <Search placeholder=\"input search text\" allowClear enterButton=\"Search\" size=\"large\" onSearch={onSearch} />\n        </div>\n\n        <Table rowKey=\"id\" bordered dataSource={this.state.dataSource} columns={columns} pagination={this.fenye()} />\n\n        <Modal title=\"Basic Modal\" visible={this.isModalVisible} onOk={this.handleOk} onCancel={this.handleCancel} onClick={this.showModal}>\n          <p>Some contents...</p>\n          <p>Some contents...</p>\n          <p>Some contents...</p>\n        </Modal>\n      </div>\n    );\n  }\n  componentDidMount() {\n    console.log(\"componentDidMount-----组件已经挂载到页面的时候\");\n    this.getBook(this.state.current, this.state.size); //获取列表接口\n  }\n  //分页\n  fenye() {\n    const fy = {\n      current: this.state.current, // 当前页\n      pageSize: this.state.size, // 每页显示\n      total: this.state.total, // 总条数\n      onChange: (current) => {\n        // 点击下一页\n        this.getBook(current, 5);\n        this.setState({\n          current: current,\n        });\n      },\n      // 每页显示变化\n      onShowSizeChange: (Current, pageSize) => {\n        console.log(pageSize);\n        this.getBook(Current, pageSize);\n      },\n      showQuickJumper: this.state.showQuickJumper, //是否可以跳转\n    };\n    return fy;\n  }\n  async getBook(current, size) {\n    let res = await articleList({ current: current, size: size });\n    console.log(33, res.content);\n    if (res.content.length) {\n      this.setState({\n        dataSource: res.content,\n        total: res.totalElements,\n      });\n    }\n  }\n  handleDelete = (key) => {\n    const dataSource = [...this.state.dataSource];\n    this.setState({\n      dataSource: dataSource.filter((item) => item.key !== key),\n    });\n  }\n  //弹出框\n  showModal() {\n    this.setIsModalVisible = true;\n  }\n  handleOk() {\n    setIsModalVisible(false);\n  }\n\n  handleCancel() {\n    setIsModalVisible(false);\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}