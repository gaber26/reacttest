{"ast":null,"code":"var _jsxFileName = \"/Users/gaber/Documents/\\u7EC3\\u4E60/react-demo/src/pages/book/index.js\";\nimport \"./index.css\";\nimport React from \"react\";\nimport { articleList } from \"../../lib/api\";\nimport { Table, Input } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst columns = [{\n  title: \"ID\",\n  dataIndex: \"id\",\n  key: \"id\"\n}, {\n  title: \"书名\",\n  dataIndex: \"name\",\n  key: \"name\"\n}, {\n  title: \"作者\",\n  dataIndex: \"author\",\n  key: \"author\"\n}, {\n  title: \"价格\",\n  dataIndex: \"price\",\n  key: \"price\"\n}]; // 表格数据的总条数\n\nconst totals = page.total; // 表格分页属性\n\nconst paginationProps = {\n  showSizeChanger: true,\n  showQuickJumper: false,\n  showTotal: () => `共${totals}条`,\n  pageSize: this.state.pageSize,\n  current: page.pageNum,\n  total: page.total,\n  onShowSizeChange: (current, pageSize) => this.changePageSize(pageSize, current),\n  onChange: current => this.changePage(current)\n};\n\nconst onSearch = value => {\n  console.log(value);\n};\n\nclass Index extends React.Component {\n  // 类名  继承  react组件\n  constructor(props) {\n    // 构造\n    super(props); // 调用父级方法\n\n    this.state = {\n      dataSource: [],\n      // 当前页\n      current: 1,\n      // 每页显示\n      pageSize: 3,\n      // 总条数\n      total: 6,\n      // 默认显示第几页\n      defaultCurrent: 2,\n      //是否点击跳转\n      showQuickJumper: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"input search text\",\n          allowClear: true,\n          enterButton: \"Search\",\n          size: \"large\",\n          onSearch: onSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        rowKey: \"id\",\n        bordered: true,\n        dataSource: this.state.dataSource,\n        columns: columns,\n        pagination: this.fenye()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount-----组件已经挂载到页面的时候\");\n    this.getBook(); //获取列表接口\n  } //分页\n\n\n  fenye() {\n    const fy = {\n      // 当前页\n      current: this.state.current,\n      // 每页显示\n      pageSize: this.state.pageSize,\n      // 总条数\n      total: this.state.total,\n      // 点击下一页\n      onChange: current => this.changPage(current),\n      // 每页显示变化\n      onShowSizeChange: (Current, pageSize) => {\n        console.log(pageSize);\n        this.onShowSizeChange(Current, pageSize);\n      },\n      // 默认第几页\n      defaultCurrent: this.state.defaultCurrent,\n      //是否可以跳转\n      showQuickJumper: this.state.showQuickJumper\n    };\n    return fy;\n  }\n\n  async getBook() {\n    let res = await articleList({\n      current: 1,\n      size: 2\n    });\n    console.log(33, res.content);\n\n    if (res.content.length) {\n      this.setState({\n        dataSource: res.content\n      });\n    }\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/gaber/Documents/练习/react-demo/src/pages/book/index.js"],"names":["React","articleList","Table","Input","Search","columns","title","dataIndex","key","totals","page","total","paginationProps","showSizeChanger","showQuickJumper","showTotal","pageSize","state","current","pageNum","onShowSizeChange","changePageSize","onChange","changePage","onSearch","value","console","log","Index","Component","constructor","props","dataSource","defaultCurrent","render","fenye","componentDidMount","getBook","fy","changPage","Current","res","size","content","length","setState"],"mappings":"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","sourcesContent":["import \"./index.css\";\nimport React from \"react\";\nimport { articleList } from \"../../lib/api\";\nimport { Table, Input } from \"antd\";\nconst { Search } = Input;\nconst columns = [\n  {\n    title: \"ID\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"书名\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"作者\",\n    dataIndex: \"author\",\n    key: \"author\",\n  },\n  {\n    title: \"价格\",\n    dataIndex: \"price\",\n    key: \"price\",\n  },\n];\n\n\n// 表格数据的总条数\nconst totals = page.total;\n\n// 表格分页属性\nconst paginationProps = {\n  showSizeChanger: true,\n  showQuickJumper: false,\n  showTotal: () => `共${totals}条`,\n  pageSize: this.state.pageSize,\n  current: page.pageNum,\n  total: page.total,\n  onShowSizeChange: (current, pageSize) => this.changePageSize(pageSize, current),\n  onChange: (current) => this.changePage(current),\n};\nconst onSearch = (value) => {\n  console.log(value);\n};\nclass Index extends React.Component {\n  // 类名  继承  react组件\n  constructor(props) {\n    // 构造\n    super(props); // 调用父级方法\n    this.state = {\n      dataSource: [],\n      // 当前页\n\n      current: 1,\n\n      // 每页显示\n\n      pageSize: 3,\n\n      // 总条数\n\n      total: 6,\n\n      // 默认显示第几页\n\n      defaultCurrent: 2,\n\n      //是否点击跳转\n\n      showQuickJumper: true,\n    };\n  }\n  render() {\n    return (\n      <div>\n        {/* 表头 */}\n        <div className=\"search\">\n          <Search placeholder=\"input search text\" allowClear enterButton=\"Search\" size=\"large\" onSearch={onSearch} />\n        </div>\n\n        <Table rowKey=\"id\" bordered dataSource={this.state.dataSource} columns={columns} pagination={this.fenye()} />\n      </div>\n    );\n  }\n  componentDidMount() {\n    console.log(\"componentDidMount-----组件已经挂载到页面的时候\");\n    this.getBook(); //获取列表接口\n  }\n  //分页\n\n  fenye() {\n    const fy = {\n      // 当前页\n      current: this.state.current,\n      // 每页显示\n      pageSize: this.state.pageSize,\n      // 总条数\n      total: this.state.total,\n      // 点击下一页\n      onChange: (current) => this.changPage(current),\n      // 每页显示变化\n      onShowSizeChange: (Current, pageSize) => {\n        console.log(pageSize);\n        this.onShowSizeChange(Current, pageSize);\n      },\n      // 默认第几页\n      defaultCurrent: this.state.defaultCurrent,\n      //是否可以跳转\n      showQuickJumper: this.state.showQuickJumper,\n    };\n\n    return fy;\n  }\n  async getBook() {\n    let res = await articleList({ current: 1, size: 2 });\n    console.log(33, res.content);\n    if (res.content.length) {\n      this.setState({\n        dataSource: res.content,\n      });\n    }\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}